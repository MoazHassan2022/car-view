<!-- Add -->

<html>
	<head>
    	<meta name="viewport" content="width=device-width, initial-scale=1">
		  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    	<title>
        	Carmap
        </title>
    </head>
    <body dir='rtl'>
      <br>

    <form class="w3-container" action="{% url 'add' %}" method="POST" id="add">
            <div class="w3-container w3-center">
                {{ message }}
					<h4 class="txtdrk">إضافة سيارة</h4>
					<div class="row">
						<h4 class="cell dark">اسم السيارة</h4>
						<h4 class="cell dark">الموديل</h4>
						<h4 class="cell dark">النوع</h4>

					</div>
					<div class="row">
						<h5 class="cell"><input name='name' style="border:0;" class='w3-input' id="name"></h5>
						<h4 class="cell"><input name='modelText' style="border:0;" class='w3-input' id="modelText"></h4>
						<h4 class="cell"><input name='sortText' style="border:0;" class='w3-input' id="sortText"></h4>
					</div>
                    <div class="row">
						<h4 class="cell dark">التفاصيل</h4>
						<h4 class="cell dark">العيوب</h4>
                        <h4 class="cell dark">تاريخ السيارة</h4>
					</div>
					<div class="row" style="height:96px;">
						<h5 class="cell"><textarea style="border:0;" name='details' class='w3-input' id="details"></textarea></h5>
						<h4 class="cell"><textarea style="border:0;" name='flaws' class='w3-input' id="flaws"></textarea></h4>
						<h4 class="cell"><input name='date' style="border:0;" class='w3-input' id="date"></h4>
					</div>
                    <div class="row">
                        <h4 class="cell dark">عنوان الفيديو</h4>
						<h4 class="cell dark">سعر السيارة بالدولار</h4>
						<h4 class="cell dark">قوة الموتور</h4>
                    </div>
                    <div class="row">
						<h4 class="cell"><input name='video_url' style="border:0;" class='w3-input' id="video_url"></h4>
                        <h4 class="cell"><input style="border:0;" type="number" name='price' class='w3-input' id="price"></h4>
						<h4 class="cell"><select name='motorSt' style="border:0;" class='w3-input' id="motorSt">
                            <option value="1.0">1.0 لتر</option>
                            <option value="1.1">1.1 لتر</option>
                            <option value="1.2">1.2 لتر</option>
                            <option value="1.3">1.3 لتر</option>
                            <option value="1.4">1.4 لتر</option>
                            <option value="1.5">1.5 لتر</option>
                            <option value="1.6">1.6 لتر</option>
                            <option value="1.7">1.7 لتر</option>
                            <option value="1.8">1.8 لتر</option>
                            <option value="1.9">1.9 لتر</option>
                            <option value="2.0">2.0 لتر</option>
                            <option value="2.1">2.1 لتر</option>
                            <option value="2.2">2.2 لتر</option>
                            <option value="2.3">2.3 لتر</option>
                            <option value="2.4">2.4 لتر</option>
                            <option value="2.5">2.5 لتر</option>
                            <option value="2.6">2.6 لتر</option>
                            <option value="2.7">2.7 لتر</option>
                            <option value="2.8">2.8 لتر</option>
                            <option value="2.9">2.9 لتر</option>
                            <option value="3.0">3.0 لتر</option>
                            <option value="3.1">3.1 لتر</option>
                            <option value="3.2">3.2 لتر</option>
                            <option value="3.3">3.3 لتر</option>
                            <option value="3.4">3.4 لتر</option>
                            <option value="3.5">3.5 لتر</option>
                            <option value="3.6">3.6 لتر</option>
                            <option value="3.7">3.7 لتر</option>
                            <option value="3.8">3.8 لتر</option>
                            <option value="3.9">3.9 لتر</option>
                            <option value="4.0">4.0 لتر</option>
                            <option value="4.1">4.1 لتر</option>
                            <option value="4.2">4.2 لتر</option>
                            <option value="4.3">4.3 لتر</option>
                            <option value="4.4">4.4 لتر</option>
                            <option value="4.5">4.5 لتر</option>
                            <option value="4.6">4.6 لتر</option>
                            <option value="4.7">4.7 لتر</option>
                            <option value="4.8">4.8 لتر</option>
                            <option value="4.9">4.9 لتر</option>
                            <option value="5.0">5.0 لتر</option>
                        </select>
                             </h4>
                        </div>

                        <div class="row">
                            <h4 class="cell dark">الصورة</h4>
                        <h4 class="cell dark">الشعار</h4>

                        </div>
                        <div class="row">

                            <h4 class="cell">
                            <input type='text' style="border:0;" name='image' class='w3-input' id="image">
                            <a class='w3-btn w3-green' style="width:205px;" href="https://up4net.com/" target="_blank">اضغط هنا لرفع الصورة</a>
                        </h4>
                            <h4 class="cell">
                            <input type='text' style="border:0;" name='logo' class='w3-input' id="logo">
                            <a class='w3-btn w3-green' style="width:205px;" href="https://up4net.com/" target="_blank">اضغط هنا لرفع الشعار</a>
                        </h4>
                        </div>
                        {% csrf_token %}
                            <br><br><br>
                        <button type="submit" class='w3-btn w3-green'>اضافة</button>
            </div>

          </form>
    </body>
</html>
<script src="https://code.jquery.com/jquery-3.5.1.js"
          integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
            crossorigin="anonymous"></script>
    <script type="text/javascript">
    $(document).on('submit','#add',function(e){
        e.preventDefault();
        $.ajax({
            type:'POST',
            url:'{% url "add" %}',
            data:
            {
                name:$("#name").val(),
                modelText:$("#modelText").val(),
                sortText:$("#sortText").val(),
                details:$("#details").val(),
                flaws:$("#flaws").val(),
                date:$("#date").val(),
                video_url:$("#video_url").val(),
                price:$("#price").val(),
                motorSt:$("#motorSt").val(),
                image:$("#image").val(),
                logo:$("#logo").val(),
                csrfmiddlewaretoken:$('input[name=csrfmiddlewaretoken]').val()
            },
            success:function(){
                  alert('تم اضافة السيارة بنجاح!');
                  n = document.getElementById("name");
                  n.value = "";
                  m = document.getElementById("modelText");
                  m.value = "";
                  s = document.getElementById("sortText");
                  s.value = "";
                  d = document.getElementById("details");
                  d.value = "";
                  f = document.getElementById("flaws");
                  f.value = "";
                  i = document.getElementById("image");
                  i.value = "";
                  da = document.getElementById("date");
                  da.value = "";
                  v = document.getElementById("video_url");
                  v.value = "";
                  p = document.getElementById("price");
                  p.value = "";
                  l = document.getElementById("logo");
                  l.value = "";
                    }
            })
        });
    </script>

<style>
    .row{
		display: flex;
		flex-direction: row;
		justify-content: center;
		width: 100%;
		height: 50px;
		}
		.cell{
		width: 15%;
		margin: 0;
		border: 2px solid;
		text-align:center;
		}
		.dark{
		background-color: #1765a2;
		color: white;
		border: 2px solid black;
		}
		@media (max-width:600px)
		{
			.row{
		display: flex;
		flex-direction: row;
		justify-content: center;
		width: 100%;
		height: 90px;
		}
		.row h6{
			font-size: 17px;
		}
			.cell{
			width: 60%;
			margin: 0;
			border: 2px solid;
			text-align:center;
			font-size: 20px;
			}
			.dark{
		background-color: #1765a2;
		color: white;
		border: 2px solid black;
		}
		}
</style>